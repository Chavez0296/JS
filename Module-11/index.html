<!DOCTYPE html>
<html lang="en" ng-app="myApp"> <!-- define AngularJS module here -->
  <head>
    <title>CS 157 Module 11 Lab - AngularJS Exercises</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  </head>
  
  <body ng-controller="mainController"> <!-- define AngularJS view with a controller name here -->
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <!-- Popper needed for some Bootstrap components -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <!-- Bootstrap -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <!-- AngularJS -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.0/angular.min.js"></script>

    <div class="jumbotron text-center py-4">
      <h1>Module 11 Lab - AngularJS Exercises</h1>
      <p>Complete the AngularJS exercises below. <strong>No jQuery or "id" attributes should be used!</strong>. Everything should be done using AngularJS directives and functionality in the controller.</p>
      <p>For help, refer to the code references in the Canvas Module</p>
    </div>


    <!-- PART 0 -->
    <div class="container jumbotron py-4 px-4">
      <h2>Part 0 - Setup</h2>
      <p>"Angularize" this project by:
        <ol>
          <li>Including the AngularJS script in the body of the page</li>
          <li>Adding the directive for the module in the &lt;html&gt; tag</li>
          <li>Defining the View by setting a controller directive for the &lt;body&gt; tag</li>
          <li>In JavaScript, "bootstrap" your HTML by creating a new AngularJS module</li>
          <li>In JavaScript, create the actual controller for the view you defined in step 3. Make sure to import the $scope service and leave the controller empty.</li>
          <li>Continue to the next parts below</li>
        </ol>
    </div>


    <!-- PART 1 -->
    <div class="container jumbotron py-4 px-4">
      <h2>Part 1</h2>
      <p>Data bind the text box to the model and output the value after the "Hello" using a AngularJS' expression so when you type your name in the text box, the value automatically appears below. After you get that working, only display the alert div when there's a name in the field, else hide it.</p><hr/>

      <input type="text" class="form-control mb-2" placeholder="Name" ng-model="name"/>
      <div class="alert alert-primary">
        Hello {{name}}
      </div>
    </div>
    

    <!-- PART 2 -->
    <div class="container jumbotron py-4 px-4">
      <h2>Part 2</h2>
      <p>Data bind the text box to the model and set the soruce of the image below to the URL entered using AngularJS' interpolation (expression in attributes). Use the sample URLs below for testing:</p>
      <figcaption class="figure-caption">https://cdn.pixabay.com/photo/2018/02/08/22/27/flower-3140492_960_720.jpg</figcaption><hr/>
      
      <input type="url" class="form-control mb-2" placeholder="Image URL" ng-model="imgsrc"/>
      <figure class="figure mx-auto">
        <img id="dynamicImg" src="{{imgsrc}}" class="figure-img img-fluid rounded">        
      </figure>
    </div>


    <!-- PART 3 -->
    <div class="container jumbotron py-4 px-4">
      <h2>Part 3</h2>
      <p>Data bind the text box to the model and use the ng-show directive on the two images to show them based on the input of "happy" or "sad"</p><hr/>
      <input type="text" class="form-control mb-2" placeholder="Enter happy or sad to show the correct emoji" ng-model="face"/>
      <div class="text-center">
        <img ng-show="face === 'happy'"  src="images/happyemoji.png" class="figure-img img-fluid rounded">
        <img ng-show="face === 'sad'" src="images/sademoji.png" class="figure-img img-fluid rounded">
      </div>
    </div>


    <!-- Part 4 -->
    <div class="container jumbotron py-4 px-4">
      <h2>Part 4</h2>
      <p>Data bind the two numbers to the model and use AngularJS' expression to add the numbers and display them in the green alert box. You have to be a little clever in the expression since if you just use the addition character, you are concatenating strings.</p><hr/>

      <form>
        <div class="form-row">
          <div class="col-4">
            <input ng-model="num1" type="text" class="form-control"/>
          </div>
          <div class="col-2 text-center">
            <h4><span class="badge badge-light mt-1 pt-1">+</span></h4>
          </div>
          <div class="col-4">
            <input ng-model="num2" type="text" class="form-control"/>
          </div>
          <div class="col-2">
            <div class="alert alert-success p-1">Result:{{+num1 + +num2 | number}}</div>
          </div>
        </div>
      </form>
    </div>


    <!-- Part 5 -->
    <div class="container jumbotron py-4 px-4">
        <h2>Part 5</h2>
        <p>Data bind the price and tax to the model and use AngularJS' expression to calculate the total. Use filtering to display the output as currency. For example, if the price is 9.99 and the rate is 9.5, the total will be 9.99 * (1 + (9.5/100)) = $10.94.</p><hr/>
        
        <form>
          <div class="form-row">
            <div class="col-sm-5">
              <input type="text" class="form-control" placeholder="Price" ng-model="price">
            </div>
            <div class="col-sm-3">
              <input type="text" class="form-control" placeholder="Tax Rate %" ng-model="tax">
            </div>
            <div class="col-sm-4">
              <div class="alert alert-success p-1">Result: {{+price * (1 + (+tax / 100)) | currency }}</div>
            </div>
          </div>
        </form>        
    </div>


    <!-- PART 6 -->
    <div class="container jumbotron py-4 px-4">
      <h2>Part 6</h2>
      <p>Data bind the email and password to the model and define a login() function in the controller that is called when the "Submit" button is clicked use the ng-click directive.</p>
      <p>In the login() function, create a new object with "email" and "password" fields based on the email and password values in the model and log the object to the console.</p><hr/>
            
      <form>
        <input type="text" class="form-control mb-2" placeholder="Email" ng-model="email">
        <input type="password" class="form-control mb-2" placeholder="Password" ng-model="password">
        <button type="button" class="btn btn-primary" ng-click="login(email,password)">Submit</button>
      </form>
    </div>


    <!-- Part 7 -->
    <div class="container jumbotron py-4 px-4">
      <h2>Part 7</h2>
      <p>Use AngularJS' model and controller functions to create functionality on displaying a counter and the ability to add or subtract a number based on the button clicked.</p><hr/>
      
      <form>
        <div class="form-row">
          <div class="col-sm-5">
            <button type="button" class="btn btn-primary p-2 w-100" ng-click="add()">Add</button>
          </div>
          <div class="col-sm-2">
            <div class="alert alert-primary p-2 text-center" >{{ counter }}</div>
          </div>
          <div class="col-sm-5">
            <button type="button" class="btn btn-primary p-2 w-100" ng-click="sub()">Subtract</button>
          </div>
        </div>
      </form>
    </div>


    <script>
      // Bootstrap the AngularJS application and create the controller here
      let myApp = angular.module("myApp", []);

      myApp.controller("mainController", function($scope) {
        $scope.imgsrc = "https://www.bbsocal.com/wp-content/uploads/2018/05/image-placeholder.png";

        $scope.login = function() {
          user = {"email":$scope.email, "password": $scope.password};
          console.log(user);
        }

        $scope.counter = 0;

        $scope.add = function(){
          $scope.counter++;
        }

        $scope.sub = function(){
          $scope.counter--;
        }
      });

    </script>
  </body>
</html>